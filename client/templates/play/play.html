<template name="play">
  <div class="header">
    {{currentUser}}
  </div>
    {{> availableCards roomId=../roomId username=../username}}
  <h2>round: {{currentRound}}</h2><br/>
    {{> players roomId=../roomId}}
    {{> results}}
    {{> rounds roomId=../roomId}}
</template>

<template name="availableCards">
    <h2>Round {{currentRound}}: You are up</h2>
    <div class="deck">
        <ul class="vertical-list">
            {{#each fibonaccis}}
                {{> card currentRoom=../roomId currentUser=../username value=value cssClass='available'}}
            {{/each}}
        </ul>
    </div>
    {{#if choiceMade}}<h2>your choice: {{choice}}</h2>{{/if}}
</template>

<template name="players">
    <div class="deck">
        <ul class="vertical-list">
            {{#each players}}
                {{> player username=this roomId=../roomId}}
            {{/each}}
        </ul>
    </div>
</template>
<template name="player">
    {{#if isMyCard}}
    <li class="card mycard {{#if hasChosen}}active{{/if}}">
        <figure class="front">
            <div class="content">
                <div class="value">{{this.username}}</div>
            </div>
        </figure>
        <figure class="back">
        <div class="content">
            <div class="name top left">{{this.username}}</div>
            <div class="name top right">{{points}}</div>
            <div class="value">{{points}}</div>
            <div class="name bottom left">{{points}}</div>
            <div class="name bottom right">{{this.username}}</div>
        </div>
        </figure >
    </li>
    {{else}}
    <li class="card {{#if hasChosen}}active{{/if}}">
      <div class="content">
        <div class="value">{{this.username}}</div>
      </div>
  </li>
    {{/if}}
</template>

<template name="results">
    <h1>hoi</h1>
    <div style="clear: left;">
        <div class="{{displayResults}}">
            <ul>
                {{#each votes}}
                    <li>{{username}} : {{points}}</li>
                {{/each}}
            </ul>
        </div>
    </div>
</template>

<template name="rounds">
  {{#each rounds}}
    {{#each results}}
        {{username}}: {{points}}<br/>
    {{/each}}
  {{/each}}
</template>

<template name="card">
{{roomId}}
  <li class="card {{cssClass}} {{#if isSelected}}active{{/if}}">
    <div class="content">
      <div class="value">{{value}}</div>
    </div>
  </li>
</template>

